var getEventJobWidgetData=function(widget_id,url='',btn_title='Рекомендуем',btn_link='/jobs/',utm='tproger',rightButtonText='',rightButtonUrl=''){var widget=document.getElementById(widget_id);var widget_inner=widget.getElementsByClassName('widget-list')[0];if('fetch'in window){fetch(url).then(r=>r.json()).then(items=>{items.forEach(function(item){let a=document.createElement('a');a.href=item.url+'?utm_source='+utm;let listItem=document.createElement('div');listItem.className='widget-list-item hoverable';let listItemLeft=document.createElement('div');listItemLeft.className='widget-list-item-left';let listItemRight=document.createElement('div');listItemRight.className='widget-list-item-right';let listItemCaption=document.createElement('div');listItemCaption.className='widget-list-item-caption';listItemCaption.innerHTML=item.title;let listItemDescription=document.createElement('div');listItemDescription.className='widget-list-description';listItemDescription.innerHTML=item.description;let image=document.createElement('img');image.dataset.lazyType='image';image.dataset.src=item.logo.url;image.dataset.srcset=item.logo.srcset;listItemLeft.appendChild(image);listItemRight.appendChild(listItemCaption);listItemRight.appendChild(listItemDescription);listItem.appendChild(listItemLeft);listItem.appendChild(listItemRight);a.appendChild(listItem);widget_inner.appendChild(a);});let footer=document.createElement('div');footer.className='widget-list-footer';let a=document.createElement('a');a.href=btn_link+'?utm_source='+utm;a.className='show-more hoverable';a.innerHTML=btn_title+'<span class="icon-right-open vertical-middle"></span>';footer.appendChild(a);if(rightButtonText!==''&&rightButtonUrl!=''){let btnBlock=document.createElement('div');btnBlock.classList.add('widget-list-footer-right');let btn=document.createElement('a');btn.href=rightButtonUrl;btn.innerHTML=rightButtonText;btn.classList.add('btn','bluth','tproger','margin-top-10');btnBlock.appendChild(btn);footer.appendChild(btnBlock);}
widget_inner.appendChild(footer);widget.querySelector('.loading-widget').style.display='none';if(window.jQuery){jQuery(widget.querySelector('.widget-head')).slideToggle('slow');}else{widget.querySelector('.widget-head').style.display='block';}
if(window.jQuery&&typeof jQuery.lazyLoadXT==='object'){jQuery(widget).find('img').lazyLoadXT({blankImage:'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'});}}).catch(err=>{widget.remove();});}else{$.reachGloal('tech','not-supported','fetch');}};